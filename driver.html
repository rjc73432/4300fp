<!DOCTYPE html>
<html lang="en">
<head>
  <title>Driver</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

  <style>

    body{background-color: silver;}


  </style>

</head>

<body>

      <!--Nav bar is here to direct users throughout the site.-->
    <nav class="navbar navbar-inverse">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand" href="#">Yummers</a>
      </div>
        <ul class="nav navbar-nav">
	  <li><a href="index.html">Home</a></li>
	   <li><a href="restaurant.html">Restaurant</a></li>  
          <li class="active"><a href="driver.html">Drivers</a></li>  
        </ul>
      </div>
    </nav>
 <form method="post">
 
         <p>Drivers:</p><br>
         <select id="driverName">
           <option value="1">Harold</option>
           <option value="2">Jessica</option>
           <option value="3">Tom</option>
           <option value="4">Torvis</option>
           <option value="5">Iggy</option>
         </select>
 
         <input type="button" value="View Driver" onclick="driverClick()">
       </form>
 
 
       <div class="container">
       <table class="table" id="driverTable">
         <thead>
           <tr>
               <th>Name</th>
               <th>Accidents</th>
               <th>Bio</th>
           </tr>
         </thead>
         <tbody>
         </tbody>
       </table>
	</div>
 
       <script>
         //called when user clicks the View Driver button
         function driverClick(){
         $.getJSON("api/drivers", processData);
         }
 
         function processData(result) {
         //id variable representing the id of the selected driver
         var id = document.getElementById("driverName").value
 
         //empty the table of previous data
         $("#driverTable tbody tr").remove();
 
         $.each(result, function(i, driver){
 
         //fill the table with the correct elements
         if(driver.id == id){
         $("#driverTable").append([
         $("<tr>")
           .append("<td>" + driver.firstName + " " + driver.lastName + "</td>")
           .append("<td>" + driver.accidents + "</td>")
           .append("<td>" + driver.bio + "</td>")
         ]); //append
         }   //if
         })  //$.each function
         }   //processData
	</script>

</body>

</html>

